
var Talisman={extend:function(){$.browser={};$.browser.msie=false;$.browser.version=0;if(navigator.userAgent.match(/MSIE ([0-9]+)\./)){$.browser.msie=true;$.browser.version=RegExp.$1}$.mobile={};$.mobile.is=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase());$.mobile.width=992;if($.mobile.is){$.browser.scroll=0}else{$("body").append('<div id="scroll-width" style="height:100px;width:100px;visible:hidden;position:fixed;z-index:-9999999" />');$.browser.scroll=$("#scroll-width").get(0).clientWidth;$("#scroll-width").css("overflow-y","scroll");$.browser.scroll-=$("#scroll-width").get(0).clientWidth;$("#scroll-width").remove()}$.extend(mejs.MepDefaults,{audioVolume:"horizontal",videoVolume:"horizontal"});$.fn.resizeComplete=function(e,t,n){var r=0;this.resize(function(){clearTimeout(r);r=setTimeout(e,t)});if(n==="load"){this.on("load",e)}else if(n==="ready"){e()}};$.fn.isOnScreen=function(e,t){var n=this,r=$(window);t=t!==undefined?t:.9;r.scroll(function(){var i={top:r.scrollTop(),left:r.scrollLeft()};i.right=i.left+r.width()*t;i.bottom=i.top+r.height()*t;return n.each(function(){if($(this).data("isOnScreen")===undefined){var t=$(this).offset();t.right=t.left+$(this).outerWidth();t.bottom=t.top+$(this).outerHeight();if(!(i.right<t.left||i.left>t.right||i.bottom<t.top||i.top>t.bottom-$(this).outerHeight())){e.call($(this));$(this).data("isOnScreen",true)}}})})};$.fn.onTop=function(e){if($(this).scrollTop()>0){$("html, body").animate({scrollTop:0},300,"easeOutQuad");setTimeout(e,600)}else{e()}};$.fn.getProperty=function(e){var t;$.each(this,function(n,r){if(r===e){t=n;return false}});return t};$.fn.hasClasses=function(e){var t=new RegExp("( "+e.replace(/ +/g,"").replace(/,/g," | ")+" )"),n=/[\n\t\r]/g,r=0,i=this.length;for(r;r<i;r+=1){if(this[r].nodeType===1&&t.test((" "+this[r].className+" ").replace(n," "))){return true}}return false}},addons:function(){(function(e){var t="waitForImages";e.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage"]},e.expr[":"].uncached=function(t){if(!e(t).is('img[src!=""]'))return!1;var n=new Image;return n.src=t.src,!n.complete},e.fn.waitForImages=function(n,r,i){var s=0,o=0;e.isPlainObject(arguments[0])&&(n=arguments[0].finished,r=arguments[0].each,i=arguments[0].waitForAll),n=n||e.noop,r=r||e.noop,i=!!i;if(!e.isFunction(n)||!e.isFunction(r))throw new TypeError("An invalid callback was supplied.");return this.each(function(){var u=e(this),a=[],f=e.waitForImages.hasImageProperties||[],l=/url\(\s*(['"]?)(.*?)\1\s*\)/g;i?u.find("*").andSelf().each(function(){var t=e(this);t.is("img:uncached")&&a.push({src:t.attr("src"),element:t[0]}),e.each(f,function(e,n){var r=t.css(n),i;if(!r)return!0;while(i=l.exec(r))a.push({src:i[2],element:t[0]})})}):u.find("img:uncached").each(function(){a.push({src:this.src,element:this})}),s=a.length,o=0,s===0&&n.call(u[0]),e.each(a,function(i,a){var f=new Image;e(f).bind("load."+t+" error."+t,function(e){o++,r.call(a.element,o,s,e.type=="load");if(o==s)return n.call(u[0]),!1}),f.src=a.src})})}})(jQuery);jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,r,i){return jQuery.easing[jQuery.easing.def](e,t,n,r,i)},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){if((t/=i/2)<1){return r/2*t*t+n}return-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){if((t/=i/2)<1){return r/2*t*t*t+n}return r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutQuart:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,i){if((t/=i/2)<1){return r/2*t*t*t*t+n}return-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,i){if((t/=i/2)<1){return r/2*t*t*t*t*t+n}return r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeInExpo:function(e,t,n,r,i){return t==0?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){if(t==0){return n}if(t==i){return n+r}if((t/=i/2)<1){return r/2*Math.pow(2,10*(t-1))+n}return r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){if((t/=i/2)<1){return-r/2*(Math.sqrt(1-t*t)-1)+n}return r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0){return n}if((t/=i)==1){return n+r}if(!o){o=i*.3}if(u<Math.abs(r)){u=r;var s=o/4}else{var s=o/(2*Math.PI)*Math.asin(r/u)}return-(u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o))+n},easeOutElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0){return n}if((t/=i)==1){return n+r}if(!o){o=i*.3}if(u<Math.abs(r)){u=r;var s=o/4}else{var s=o/(2*Math.PI)*Math.asin(r/u)}return u*Math.pow(2,-10*t)*Math.sin((t*i-s)*2*Math.PI/o)+r+n},easeInOutElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0){return n}if((t/=i/2)==2){return n+r}if(!o){o=i*.3*1.5}if(u<Math.abs(r)){u=r;var s=o/4}else{var s=o/(2*Math.PI)*Math.asin(r/u)}if(t<1){return-.5*u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)+n}return u*Math.pow(2,-10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)*.5+r+n},easeInBack:function(e,t,n,r,i,s){if(s==undefined){s=1.70158}return r*(t/=i)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,r,i,s){if(s==undefined){s=1.70158}return r*((t=t/i-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,r,i,s){if(s==undefined){s=1.70158}if((t/=i/2)<1){return r/2*t*t*(((s*=1.525)+1)*t-s)+n}return r/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n},easeInBounce:function(e,t,n,r,i){return r-jQuery.easing.easeOutBounce(e,i-t,0,r,i)+n},easeOutBounce:function(e,t,n,r,i){if((t/=i)<1/2.75){return r*7.5625*t*t+n}else{if(t<2/2.75){return r*(7.5625*(t-=1.5/2.75)*t+.75)+n}else{if(t<2.5/2.75){return r*(7.5625*(t-=2.25/2.75)*t+.9375)+n}else{return r*(7.5625*(t-=2.625/2.75)*t+.984375)+n}}}},easeInOutBounce:function(e,t,n,r,i){if(t<i/2){return jQuery.easing.easeInBounce(e,t*2,0,r,i)*.5+n}return jQuery.easing.easeOutBounce(e,t*2-i,0,r,i)*.5+r*.5+n}});(function(){function e(){var e=false;if(e){f("keydown",i)}if(g.keyboardSupport&&!e){a("keydown",i)}}function t(){if(!document.body)return;var t=document.body;var n=document.documentElement;var r=window.innerHeight;var i=t.scrollHeight;S=document.compatMode.indexOf("CSS")>=0?n:t;x=t;e();E=true;if(top!=self){b=true}else if(i>r&&(t.offsetHeight<=r||n.offsetHeight<=r)){n.style.height="auto";setTimeout(refresh,10);if(S.offsetHeight<=r){var s=document.createElement("div");s.style.clear="both";t.appendChild(s)}}if(!g.fixedBackground&&!y){t.style.backgroundAttachment="scroll";n.style.backgroundAttachment="scroll"}}function n(e,t,n,r){r||(r=1e3);c(t,n);if(g.accelerationMax!=1){var i=+(new Date);var s=i-A;if(s<g.accelerationDelta){var o=(1+30/s)/2;if(o>1){o=Math.min(o,g.accelerationMax);t*=o;n*=o}}A=+(new Date)}k.push({x:t,y:n,lastX:t<0?.99:-.99,lastY:n<0?.99:-.99,start:+(new Date)});if(L){return}var u=e===document.body;var a=function(i){var s=+(new Date);var o=0;var f=0;for(var l=0;l<k.length;l++){var c=k[l];var h=s-c.start;var p=h>=g.animationTime;var d=p?1:h/g.animationTime;if(g.pulseAlgorithm){d=v(d)}var m=c.x*d-c.lastX>>0;var y=c.y*d-c.lastY>>0;o+=m;f+=y;c.lastX+=m;c.lastY+=y;if(p){k.splice(l,1);l--}}if(u){window.scrollBy(o,f)}else{if(o)e.scrollLeft+=o;if(f)e.scrollTop+=f}if(!t&&!n){k=[]}if(k.length){D(a,e,r/g.frameRate+1)}else{L=false}};D(a,e,0);L=true}function r(e){if(!E){t()}var r=e.target;var i=u(r);if(!i||e.defaultPrevented||l(x,"embed")||l(r,"embed")&&/\.pdf/i.test(r.src)){return true}var s=e.wheelDeltaX||0;var o=e.wheelDeltaY||0;if(!s&&!o){o=e.wheelDelta||0}if(!g.touchpadSupport&&h(o)){return true}if(Math.abs(s)>1.2){s*=g.stepSize/120}if(Math.abs(o)>1.2){o*=g.stepSize/120}n(i,-s,-o);e.preventDefault()}function i(e){var t=e.target;var r=e.ctrlKey||e.altKey||e.metaKey||e.shiftKey&&e.keyCode!==C.spacebar;if(/input|textarea|select|embed/i.test(t.nodeName)||t.isContentEditable||e.defaultPrevented||r){return true}if(l(t,"button")&&e.keyCode===C.spacebar){return true}var i,s=0,o=0;var a=u(x);var f=a.clientHeight;if(a==document.body){f=window.innerHeight}switch(e.keyCode){case C.up:o=-g.arrowScroll;break;case C.down:o=g.arrowScroll;break;case C.spacebar:i=e.shiftKey?1:-1;o=-i*f*.9;break;case C.pageup:o=-f*.9;break;case C.pagedown:o=f*.9;break;case C.home:o=-a.scrollTop;break;case C.end:var c=a.scrollHeight-a.scrollTop-f;o=c>0?c+10:0;break;case C.left:s=-g.arrowScroll;break;case C.right:s=g.arrowScroll;break;default:return true}n(a,s,o);e.preventDefault()}function s(e){x=e.target}function o(e,t){for(var n=e.length;n--;)O[M(e[n])]=t;return t}function u(e){var t=[];var n=S.scrollHeight;do{var r=O[M(e)];if(r){return o(t,r)}t.push(e);if(n===e.scrollHeight){if(!b||S.clientHeight+10<n){return o(t,document.body)}}else if(e.clientHeight+10<e.scrollHeight){overflow=getComputedStyle(e,"").getPropertyValue("overflow-y");if(overflow==="scroll"||overflow==="auto"){return o(t,e)}}}while(e=e.parentNode)}function a(e,t,n){window.addEventListener(e,t,n||false)}function f(e,t,n){window.removeEventListener(e,t,n||false)}function l(e,t){return(e.nodeName||"").toLowerCase()===t.toLowerCase()}function c(e,t){e=e>0?1:-1;t=t>0?1:-1;if(w.x!==e||w.y!==t){w.x=e;w.y=t;k=[];A=0}}function h(e){if(!e)return;e=Math.abs(e);N.push(e);N.shift();clearTimeout(_);var t=N[0]==N[1]&&N[1]==N[2];var n=p(N[0],120)&&p(N[1],120)&&p(N[2],120);return!(t||n)}function p(e,t){return Math.floor(e/t)==e/t}function d(e){var t,n,r;e=e*g.pulseScale;if(e<1){t=e-(1-Math.exp(-e))}else{n=Math.exp(-1);e-=1;r=1-Math.exp(-e);t=n+r*(1-n)}return t*g.pulseNormalize}function v(e){if(e>=1)return 1;if(e<=0)return 0;if(g.pulseNormalize==1){g.pulseNormalize/=d(1)}return d(e)}var m={frameRate:150,animationTime:400,stepSize:120,pulseAlgorithm:true,pulseScale:8,pulseNormalize:1,accelerationDelta:20,accelerationMax:1,keyboardSupport:true,arrowScroll:50,touchpadSupport:true,fixedBackground:true,excluded:""};var g=m;var y=false;var b=false;var w={x:0,y:0};var E=false;var S=document.documentElement;var x;var T;var N=[120,120,120];var C={left:37,up:38,right:39,down:40,spacebar:32,pageup:33,pagedown:34,end:35,home:36};var g=m;var k=[];var L=false;var A=+(new Date);var O={};setInterval(function(){O={}},10*1e3);var M=function(){var e=0;return function(t){return t.uniqueID||(t.uniqueID=e++)}}();var _;var D=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(e,t,n){window.setTimeout(e,n||1e3/60)}}();var P=/chrome/i.test(window.navigator.userAgent);var H="onmousewheel"in document;if(H&&P){a("mousedown",s);a("mousewheel",r);a("load",t)}})()},_columns:function(e,t){var n=t.width(),r,i;if(e.hasClass("col-4")){r=4}else if(e.hasClass("col-3")){r=3}else if(e.hasClass("col-2")){r=2}else if(e.hasClass("col-1")){r=1}else{r=5}if(n<1201&&n>=984&&r>4){i=4}else if(n<984&&n>=751&&r>3){i=3}else if(n<751&&n>=480&&r>2){i=2}else if(n<488&&r>1){i=1}else{i=r}return i},_Tab:function(e,t){"use strict";var n=function(e,t){this.init(e,t)};n.prototype={constructor:n,init:function(e,n){var r=t(".fc-tab-heading > li",e),i=t(".fc-tab-heading > li.current",e),s=t(".fc-tab-content > div",e),o=t(e).children().is('[class*="col-"]'),u=t(e).data("options"),a={},f;a=t.extend({},t.fn.fcTab.defaults,n);if(u!==undefined){a=t.extend({},a,u)}if(a.fullWidth&&o!==undefined){t(e).addClass("fc-full-width")}if(i.length>1){i.each(function(e){if(e===0){f=t(i.get(0)).index()}else{t(this).removeClass("current")}})}else if(i.length===1){f=t(i.get(0)).index()}else{f=0;r.eq(f).addClass("current")}s.each(function(e){if(e===f){t(this).addClass("current")}else{t(this).removeClass("current")}});t(r).on("click",function(){if(t(e).is(".active")||t(this).is(".current")){return false}t(this).addClass("current").siblings().removeClass("current");var n=t(this).index(),r=t(".fc-tab-content > div:visible",e).index(),i,u;if(a.animation==="fade"||a.animation==="slide"){if(a.animation==="fade"){i={opacity:0};u={opacity:0}}else{if(r>n){i=o?{opacity:0,top:"30px"}:{opacity:0,left:"30px"};u=o?{opacity:0,top:"-30px"}:{opacity:0,left:"-30px"}}else{i=o?{opacity:0,top:"-30px"}:{opacity:0,left:"-30px"};u=o?{opacity:0,top:"30px"}:{opacity:0,left:"30px"}}}t(e).addClass("active");t(".fc-tab-content > div:visible",e).animate(i,a.speed,"easeInOutBack",function(){t(this).hide().removeClass("current");s.eq(n).show().css(u).animate({opacity:1,left:0,top:0},a.speed,"easeOutCirc",function(){t(e).removeClass("active")}).addClass("current")})}else{s.eq(n).addClass("current").siblings().removeClass("current")}})}};t.fn.fcTab=function(e){return this.each(function(){var r=t(this),i=r.data("fcTab"),s=typeof e==="object"&&e;if(!i){i=new n(this,s);r.data("fcTab",i)}if(typeof e==="string"){i[e]()}})};t.fn.fcTab.Constructor=n;t.fn.fcTab.defaults={animation:false,speed:200,fullWidth:false}},_Accordion:function(e,t){"use strict";var n=function(e,t){this.init(e,t)};n.prototype={constructor:n,init:function(e,n){var r=t("div > .fc-accordion-heading",e),i=t(e).data("options"),s={};s=t.extend({},t.fn.fcAccordion.defaults,n);if(i!==undefined){s=t.extend({},s,i)}t(r).click(function(){var e=t(this).parent(),n=t(".fc-accordion-content",e);if(e.is(".active")){n.css("display","block").slideUp(s.speed,"easeInOutExpo").parent().removeClass("active")}else{if(s.toggle===true){n.css("display","none").slideDown(s.speed,"easeInOutExpo").parent().addClass("active").siblings(".active").removeClass("active").children(".fc-accordion-content").css("display","block").slideUp(s.speed,"easeInOutExpo")}else{n.css("display","none").slideDown(s.speed,"easeInOutExpo").parent().addClass("active")}}})}};t.fn.fcAccordion=function(e){return this.each(function(){var r=t(this),i=r.data("fcAccordion"),s=typeof e==="object"&&e;if(!i){i=new n(this,s);r.data("fcAccordion",i)}if(typeof e==="string"){i[e]()}})};t.fn.fcAccordion.Constructor=n;t.fn.fcAccordion.defaults={toggle:false,speed:400}},init:function(){var e=this;this.extend();this.addons();$(function(){e.other();e.page.scrollspy();e.page.header();e.components.fancybox();e.components.counter();e.components.media();e.components.iframe();e.components.iconbox();e._Tab(window,jQuery);e.components.tab();e._Accordion(window,jQuery);e.components.accordion();e.components.slider();e.components.carousel();e.components.testimonial();e.page.grid();e.page.form();e.page.ajax();e.page.comments();e.page.animate()})},page:{header:function(){$("body").delegate(".navbar-bar","position",function(e,t,n){var r=t?$(t):$("#header .navbar-nav > li.active");if(r!==undefined&&r.length){$(".navbar-bar").css({left:r.position().left+"px",width:r.width()+"px"})}});$("#header .navbar-nav > li").hover(function(){$(".navbar-bar").trigger("position",this)},function(){$(".navbar-bar").trigger("position")});$(window).resizeComplete(function(){$(".navbar-bar").trigger("position")},50,"ready");if($.mobile.is){$("#header .navbar-nav > li a").on("click",function(e){if($(this).parent().children("ul.dropdown").length){if(!$(this).is(".clicked")){$("#header .navbar-nav > li a").not(this).removeClass("clicked");$(this).addClass("clicked");e.preventDefault()}}});$("body > *").on("click",function(e){if($(window).width()<$.mobile.width){if(!$(e.target).parents("#main-menu").length){$("#header .navbar-nav > li a").removeClass("clicked").off("mouseenter mouseleave")}}})}var e;$("#header .social-nav > li a").hover(function(){e=$("span",this);if(window.outerWidth>1200){e.width(e[0].scrollWidth)}},function(){e.width(0)})},grid:function(){var e=$(".fc-grid");if(e.length){$(window).resizeComplete(function(){e.each(function(){var e=$(this),t=e.closest(".fc-grid-wrap"),n={layoutMode:"masonry",gutterWidth:0},r=e.data("options"),i=r!==undefined?$.extend(true,n,r):n,s=i.gutterWidth,o=Talisman._columns(e,t);e.css({marginTop:-1*s+"px",marginLeft:-1*s+"px"}).children().css({width:Math.floor((t.width()-s*(o-1))/o)+"px",marginTop:s+"px",marginLeft:s+"px"});e.isotope(i);$('.fc-slider, video.fc-media, audio.fc-media, iframe[height="100%"]',e).trigger("updateSizes");if(!t.hasClass("created")){t.addClass("created")}e.isotope("layout")})},100,"load");$(".fc-filter-heading").on("click",".btn",function(){var e=$(this).closest(".fc-filter");if($(this).hasClass("active")){e.find("a.fc-close").trigger("click")}else{$(this).addClass("active");e.children(".fc-filter-content").slideDown(150,function(){e.addClass("filter-active")})}return false});$(".fc-filter").on("click","a.fc-close",function(){var e=$(this).closest(".fc-filter");e.removeClass("filter-active").find(".fc-filter-heading .btn").removeClass("active");setTimeout(function(){e.children(".fc-filter-content").slideUp(150)},200);return false});$(".fc-filter .fc-switcher").on("click","a",function(e){if(!$(this).hasClass("active")){$(this).addClass("active").siblings().removeClass("active");if($(this).attr("href")==="#on"){$(this).closest(".fc-filter").addClass("filter-multiple")}else{$(this).closest(".fc-filter").removeClass("filter-multiple")}}e.preventDefault()});$(".fc-filter-content ul").on("click","a",function(e){if($(this).is(".active")){return false}e.preventDefault();var t=$(this).closest(".fc-filter"),n=$(this).closest("ul"),r,i=[],s,o=[];if(t.hasClass("filter-multiple")&&$(this).attr("href")!=="*"){$(this).addClass("active");$('a[href="*"]',n).removeClass("active")}else{$(this).addClass("active").parent("li").siblings().find("a").removeClass("active")}$("li a.active",t).each(function(){if($(this).attr("href")!=="*"){i.push($(this).attr("href"));o.push($(this).text())}});r=i.join(", ");s=o.join(", ");$(".fc-filter-heading .fc-filter-text",t).text(s);$(t.data("grid")).isotope({filter:r})})}},scrollspy:function(){var e=$("body"),t=$("#header"),n=$("#contact"),r=$('a[href="$contact"]',t),i=$(".navbar-nav.nav li.active");$(window).load(function(){$("html").addClass("loaded");setTimeout(function(){var e=document.location.hash,t=this.outerWidth<$.mobile.width?0:$("#header").outerHeight()+35,n=e.substring(0,1)==="#"?$(e).offset().top-t:0;$("html, body").scrollTop(n);$(window).scroll();$(".navbar-bar").trigger("position");setTimeout(function(){$(".fc-page-loader").css("top","100%")},300)},300);e.on("activate.bs.scrollspy",function(){$(".navbar-bar").trigger("position")})});$(window).resizeComplete(function(){var r=e.data("bs.scrollspy");if(r){e.scrollspy("refresh");r.options.offset=this.outerWidth<$.mobile.width?0:t.outerHeight()+40}if($("html").hasClass("contact-active")){e.css("margin-top",n.height()).find("#contact").css("margin-top",n.height()*-1+"px")}},40,"load");t.on("click","a",function(){var t=e.data("bs.scrollspy"),i=$(this),s=i.attr("href"),o=s.substring(0,1);if(s!=="#"&&(o==="#"||o==="$")){e.scrollspy("refresh");if(o==="#"&&t){if($("html").hasClass("contact-active")){t.offsets[0]=0;t.offsets[1]=t.offsets[1]+t.options.offset}$("html, body").animate({scrollTop:$(s).offset().top-t.options.offset+"px"},600)}if(o==="$"){if(s==="$contact"&&!$("html").hasClass("contact-active")){$(window).onTop(function(){var i=n.height();$("html").addClass("contact-active").children("body").animate({marginTop:i+"px"},700,"easeOutQuad",function(){if(t){r.attr("href","#contact");e.scrollspy("refresh");t.offsets[0]=0;t.offsets[1]=t.offsets[1]+t.options.offset}r.parent("li").addClass("active").siblings().removeClass("active");$(".navbar-bar").trigger("position")}).find("#contact").css("margin-top",i*-1+"px")})}if(s==="$main-menu"){i.toggleClass("active");$("#main-menu").slideToggle(300,"easeInOutExpo",function(){e.scrollspy("refresh")})}}return false}});$("#contact > a.fc-close").on("click",function(){$(window).onTop(function(){$('.navbar-nav.nav li > a[href="#home"]').parent("li").addClass("active").siblings().removeClass("active");e.animate({marginTop:0},700,"easeOutQuad",function(){$(this).css("margin-top","");$("html").removeClass("contact-active").find("#header").css("position","");r.attr("href","$contact");e.scrollspy("refresh");i.addClass("active").siblings().removeClass("active");$(".navbar-bar").trigger("position")})});return false});$(window).scroll(function(){if($("html").hasClass("contact-active")){if($(window).scrollTop()>n.height()){t.css("position","fixed")}else{t.css("position","absolute")}}})},ajax:function(){function e(e){if(e){$("#ajax-block").remove()}else{$("body").prepend('<div id="ajax-block" />')}}function t(e,t){$(e).prepend('<div class="loader"></div>').find(".loader").animate({width:"100%"},t.lengthComputable?t.loaded/t.total*100+"%":200,"easeOutQuad",function(){$(this).animate({opacity:0},1e3,function(){$(this).remove()})})}function n(e,t){return e+1>t-1?0:e+1}function r(e,t){return e-1<0?t-1:e-1}var i,s,o,u;$("a[data-ajax]").on("click",function(t){e();i=[];s=[];$('a[data-ajax="'+$(this).data("ajax")+'"]').each(function(){var e=$(this).attr("href");if($.inArray(e,s)<0){s.push(e);i.push(this)}});u=i.length;o=$.inArray(this,i);var a=$(this),f=a.attr("href"),l="#",c="#",h=" fc-disabled";if(u>1){l=r(o,u);c=n(o,u);h=""}$("html").addClass("ajax-active").css("margin-right",$.browser.scroll+"px");$("#header").css("margin-right",$.browser.scroll+"px");$("body").append('<div id="ajax-overlay">'+'<div id="ajax-wrapper">'+'<aside class="fc-article-nav">'+"<ul>"+'<li class="prev">'+'<a class="fc-nav fc-prev'+h+'" href="'+l+'" rel="Prev" target="_blank"></a>'+"</li>"+'<li class="back">'+'<a title="Close" class="fc-nav fc-close" href="http://labs.funcoders.com/html/Talisman/demo/"></a>'+"</li>"+'<li class="next">'+'<a class="fc-nav fc-next'+h+'" href="'+c+'" rel="Next" target="_blank"></a>'+"</li>"+"</ul>"+"</aside>"+'<div id="ajax-wrapper-inner">'+'<div class="ajax-container"><div class="container"></div></div>'+"</div>"+"</div>"+"</div>");$.ajax({url:f,cache:false,success:function(t){var n=$("#ajax-wrapper");$(".ajax-container > .container",n).html($(t).find(".fc-article"));n.waitForImages(function(){Talisman.components.slider(this);Talisman.components.media(this);Talisman.components.iframe(this);$(".fc-page-loader").addClass("no-spinner").removeAttr("style");$(this).delay(150).animate({top:0},700,"easeInOutExpo",function(){$(this).addClass("loaded").removeAttr("style");e(true)})})}});return false});$("body").on("click","#ajax-wrapper > .fc-article-nav .fc-nav",function(s){e();if($(this).hasClasses("fc-next, fc-prev")){var a=$(this),f=$(i[a.attr("href")]).attr("href");o=parseInt(a.attr("href"),10);$.ajax({url:f,cache:false,xhrFields:{onprogress:function(e){t("#ajax-wrapper .fc-article-nav",e)}},success:function(t){$("#ajax-wrapper-inner").append('<div class="ajax-container new"><div class="container"></div></div>').find(".ajax-container.new > .container").html($(t).find(".fc-article")).parent().css({left:a.hasClass("fc-next")?"100%":"-100%",position:"absolute"});if($(".ajax-container").not(".new").height()<$(".ajax-container.new").height()){$("#ajax-wrapper-inner").height($("#ajax-wrapper-inner .ajax-container.new").height())}var i=$("#ajax-wrapper");i.waitForImages(function(){Talisman.components.slider(this);Talisman.components.media(this);Talisman.components.iframe(this);$(".ajax-container").not(".new").delay(20).animate({left:a.hasClass("fc-next")?"-100%":"100%"},700,"easeOutCubic",function(){$(this).remove();$("#ajax-wrapper-inner").removeAttr("style");$(".ajax-container.new").removeClass("new").removeAttr("style");$(".fc-article-nav .fc-prev",i).attr("href",r(o,u));$(".fc-article-nav .fc-next",i).attr("href",n(o,u));e(true)});$(".ajax-container.new").animate({left:0},700,"easeOutCubic")})}})}else{$("#ajax-wrapper").removeClass("loaded").css({top:0}).animate({top:"100%"},700,"easeInOutExpo",function(){$("#ajax-overlay").remove();$("html").removeClass("ajax-active").removeAttr("style");$("#header").removeAttr("style");e(true)});setTimeout(function(){$(".fc-page-loader").css("top","100%")},400)}return false})},form:function(){$(".placeholder > .form-control").focus(function(){$(this).parent().addClass("focus")}).focusout(function(){$(this).parent().removeClass("focus")}).bind("change keyup input",function(){if($(this).val()!==""){$(this).parent().addClass("keyup")}else{$(this).parent().removeClass("keyup")}}).blur(function(){if($(this).val()===""){$(this).removeClass("error").closest(".form-field").find(".text-error").remove()}});var e=$("form.form-validate");if(e.length){e.each(function(){var e=$(this);e.validate({submitHandler:function(e){$.ajax({type:$(e).attr("method"),url:$(e).attr("action"),data:$(e).serialize(),dataType:"json",success:function(t){var n='<div class="response '+t.response+'">'+t.text+"</div>",r=$(e).validate();if($(e).is("#contact-form")){$('button[type="submit"]',e).before(n)}else{$(e).append(n)}$(".response",e).animate({right:"15px",opacity:1},1e3,"easeInOutExpo",function(){setTimeout(function(){$(".response",e).animate({right:"30px",opacity:0},1e3,"easeInOutExpo",function(){$(this).remove()})},5e3)});$(e)[0].reset();r.prepareForm();r.hideErrors();r.resetForm();$(".placeholder > .form-control",e).change().blur()}})},success:function(e,t){},errorPlacement:function(e,t){var n=$(t).parent(".placeholder");n=n.parent();n.find(".text-error").remove();n.append('<span class="text-error">'+e.text()+"</span>")}})})}},comments:function(){var e=$(".fc-comments"),t=$(".fc-comments-reply",e);if(e.length){$(".fc-comment-content .reply a",e).on("click",function(){var e=$(this);t.animate({opacity:0},100,function(){e.closest(".fc-comment").after(t).next().animate({opacity:1},200)});return false});$(".fc-close",t).click(function(){t.animate({opacity:0},100,function(){$(this).appendTo($(this).closest(".fc-comments")).animate({opacity:1},200)});return false})}},animate:function(){var e,t;if($.mobile.is){$("*[data-animate]").addClass("animated done")}else{$("*[data-animate]").not(".animated").isOnScreen(function(){var n=$(this),r=n.data("animate"),i=n.offset().top;if(e!==i){e=i;t=0}else{t+=1;n.css({"-webkit-animation-delay":t*.1+"s","animation-delay":t*.1+"s"})}n.addClass(r+" animated");setTimeout(function(){n.removeClass(r).addClass("done")},2e3)})}}},components:{fancybox:function(){$('a[data-modal="fancybox"]').fancybox({margin:40,fitToView:true,width:"70%",height:"70%",padding:0,helpers:{title:{type:"outside"}},tpl:{closeBtn:'<a title="Close" class="fc-nav fc-close" href="javascript:;"></a>',prev:'<a title="Previous" class="fc-nav fc-prev" href="javascript:;"></a>',next:'<a title="Next" class="fc-nav fc-next" href="javascript:;"></a>'},iframe:{preload:false},openEffect:"fade",closeEffect:"fade",openSpeed:800,closeSpeed:300,afterLoad:function(e){setTimeout(function(){$(e.wrap).parent().addClass("opened")},10)},beforeClose:function(e){$(this.wrap).parent().removeClass("opened")}});$(".project-grid .fc-article-heading img").each(function(){$(this).parent().css("background-image","url("+this.src+")")})},counter:function(){var e=$(".fc-counter.action");if(e.length){$("input.bar",e).knob({width:150,thickness:.05,displayInput:false,readOnly:true});e.isOnScreen(function(){var e=$(this),t=$("span.value",e),n=$(".bar",e),r=n.data("min"),i=n.data("value");$({countNum:r}).animate({countNum:i},{duration:1e3,step:function(){var n=Math.ceil(this.countNum);t.text(n);$("input.bar",e).val(n).trigger("change");e.addClass("created")}});$("div.bar",e).css(e.hasClass("fc-vertical")?"height":"width",i+"%")})}},media:function(e){var t=$("video.fc-media, audio.fc-media",e!==undefined?e:"body");if(t.length){t.mediaelementplayer({audioHeight:40,features:["playpause","current","duration","progress","volume","fullscreen"],alwaysShowControls:true,timeAndDurationSeparator:"<span> / </span>",iPadUseNativeControls:true,iPhoneUseNativeControls:true,AndroidUseNativeControls:true,success:function(e,t){$(e).addClass("created").on("updateSizes",function(){var e,t;if($.mobile.is){e=$(this).parent().width();t=e*9/16;$(this).height(t+"px")}else{e=$(this).closest(".mejs-container").parent().width();t=e*this.videoHeight/this.videoWidth;this.player.setPlayerSize(e,t);this.player.setControlsSize();this.player.media.setVideoSize(e,t)}});if($.mobile.is){$(e).trigger("updateSizes")}}})}},iframe:function(e){var t=$('iframe[height="100%"]',e!==undefined?e:"body");if(t.length){t.on("updateSizes",function(){$(this).addClass("created").height($(this).width()*9/16+"px")});$(window).resizeComplete(function(){t.trigger("updateSizes")},50,"load");if(e!==undefined){t.trigger("updateSizes")}}},iconbox:function(){var e=$(".fc-iconbox.fc-style-4.fc-hover");if(e.length){$(window).resizeComplete(function(){$(".fc-iconbox-content > *",e).each(function(){$(this).css("margin-top",($(this).parent().height()-$(this).height())/2+"px")})},50,"ready")}},tab:function(){var e=$(".fc-tab");if(e.length){e.fcTab()}},accordion:function(){var e=$(".fc-accordion");if(e.length){e.fcAccordion()}},testimonial:function(){var e=$(".fc-testimonial");if(e.length){$(window).load(function(){e.wrap('<div class="fc-testimonial-outer"><div class="fc-testimonial-inner"></div></div>').each(function(){var e=$(this),t=e.closest(".fc-testimonial-wrap"),n={scroll:{fx:"crossfade",duration:300,onBefore:function(n){$(".fc-testimonial-heading",t).eq(e.triggerHandler("currentPosition")).addClass("active").siblings().removeClass("active")}},auto:{play:false},prev:{button:function(){return t.find("a.fc-prev")}},next:{button:function(){return t.find("a.fc-next")}},width:"100%",height:"variable",responsive:true,items:{width:100,height:"variable",visible:1},onCreate:function(e){t.addClass("created")},pagination:{container:function(){return t.find(".fc-pagi")},anchorBuilder:function(e,t){return'<a href="#'+e+'"></a>'}}},r=e.data("options"),i=r!==undefined?$.extend(true,n,e.data("options")):n;$(".fc-testimonial-heading",e).prependTo(".fc-testimonial-outer",e).eq(0).addClass("active");e.carouFredSel(i,{debug:false})})});$(".fc-testimonial-heading").on("click",function(){$(this).closest(".fc-testimonial-wrap").find(".fc-testimonial").trigger("slideTo",$(this).index())});$(window).resizeComplete(function(){e.trigger("updateSizes")},50)}},slider:function(e){function t(e){e.each(function(){var e=$(this),t=e.closest(".fc-slider-wrap"),n={auto:{play:false},prev:{button:function(){return t.find("a.fc-prev")}},next:{button:function(){return t.find("a.fc-next")}},width:"100%",height:"variable",responsive:true,items:{width:100,height:"variable",visible:1},onCreate:function(e){t.addClass("created")},pagination:{container:function(){return t.find(".fc-pagi")},anchorBuilder:function(e,t){return'<a href="#'+e+'"></a>'}}},r=e.data("options"),i=r!==undefined?$.extend(true,n,r):n;e.carouFredSel(i,{debug:false}).swipe({swipeLeft:function(e,t,n,r,i){$(this).trigger("next")},swipeRight:function(e,t,n,r,i){$(this).trigger("prev")}})})}var n=$(".fc-slider",e!==undefined?e:"body");if(n.length){if(e!==undefined){$(window).on("load",t(n))}else{t(n)}}},carousel:function(){var e=$(".fc-carousel");if(e.length){$(window).resizeComplete(function(){e.each(function(){var e=$(this),t=e.closest(".fc-carousel-wrap"),n={auto:{play:false,timeoutDuration:1e4},prev:{button:function(){return t.find("a.fc-prev")}},next:{button:function(){return t.find("a.fc-next")}},width:"100%",height:"variable",responsive:true,items:{width:100,height:"variable",visible:Talisman._columns(e,t)},onCreate:function(e){t.addClass("created");$(this).trigger("updateSizes")},pagination:{container:function(){return t.find(".fc-pagi")},anchorBuilder:function(e,t){return'<a href="#'+e+'"></a>'}}},r=e.data("options"),i;if(t.hasClass("created")){$(this).trigger("configuration",["items.visible",Talisman._columns(e,t)]).trigger("updateSizes")}else{i=r!==undefined?$.extend(true,n,r):n;e.wrap('<div class="fc-carousel-outer"><div class="fc-carousel-inner"></div></div>').carouFredSel(i,{debug:false})}})},70,"load")}}},other:function(){var e=$("#tweets"),t=$("#flickr");if(e.length){e.twitterfeed()}if(t.length){t.jflickrfeed({limit:8,qstrings:{id:t.data("id")},itemTemplate:'<div class="col-sm-3">'+'<a href="{{image_b}}" data-modal="fancybox" data-fancybox-group="flickr" title="{{title}}">'+'<span><i class="fa fa-plus"></i></span>'+'<img src="{{image_s}}" alt="{{title}}">'+"</a>"+"</div>"})}$(window).resizeComplete(function(){if($(".fc-section-full-width").length){$(".fc-section-full-width").css({width:$("#main").width(),marginLeft:($("#main > .container").offset().left+15)*-1+"px"})}if($.mobile.is){$("#page-slider video, .fc-section-bg video").hide()}$(".fc-section-bg > video").each(function(){var e=$(this),t=e.parent(),n=this.videoWidth/this.videoHeight,r=t.outerHeight(),i=$(window).width();if(n){if(n<i/r){r=i/n}else{i=r*n}}e.css({width:i+"px",height:r+"px",marginTop:r/-2,marginLeft:i/-2})})},30,"load")}};Talisman.init()